---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/Footer.astro";
import EasterEgg from "../components/EasterEgg.astro";
import DownloadButtons from "../components/DownloadButtons.astro";
import { pricingOffers } from "../data/pricing";
import { getSaleBadgeText, getHeroPricingNote } from "../utils/sale-dates";

const saleBadgeText = getSaleBadgeText();
const heroPricingNote = getHeroPricingNote();

const fallbackSite = new URL("https://lightlane.app");
const siteBase = Astro.site ?? fallbackSite;
const toAbsolute = (path: string) => new URL(path, siteBase).href;

const homepageKeywords = [
  "laser engraving software",
  "laser cutter software",
  "laser engraving workflow automation",
  "laser engraving software for Ruida",
  "laser cutter job optimizer",
  "best laser engraving software",
  "Lightlane laser engraving",
];

const workflowSteps = [
  {
    id: "workflow-step-1",
    anchor: "/#workflow-step-1",
    name: "Intelligent Import",
    description:
      "Drop SVG, DXF, PNG, or JPG assets and Lightlane laser engraving software auto-normalises layers, fonts, and paths with collision checks.",
    video: "/landing/drag&drop.mp4",
  },
  {
    id: "workflow-step-2",
    anchor: "/#workflow-step-2",
    name: "Real-time Preview",
    description:
      "GPU-accelerated preview shows engrave order, power maps, and cutter movement in real time so you catch issues before firing the laser.",
    video: "/landing/preview.mp4",
  },
  {
    id: "workflow-step-3",
    anchor: "/#workflow-step-3",
    name: "Smart Parameters",
    description:
      "Material-aware presets adapt power, speed, and passes to your laser cutter profile while enforcing guardrails against unsafe settings.",
    video: "/landing/materials.mp4",
  },
  {
    id: "workflow-step-4",
    anchor: "/#workflow-step-4",
    name: "Device Streaming",
    description:
      "Stream jobs directly to Ruida, GRBL, or G-code controllers with automatic fallbacks to packaged job bundles when you need to go offline.",
    video: "/landing/stream.mp4",
  },
  {
    id: "workflow-step-5",
    anchor: "/#workflow-step-5",
    name: "Analyze & Reuse",
    description:
      "Capture run analytics, generate post-job recommendations, and save the entire setup as a reusable laser engraving template.",
    video: "/landing/templates.mp4",
  },
];

const offerSchemas = pricingOffers.map((offer) => {
  const base: Record<string, unknown> = {
    "@type": "Offer",
    priceCurrency: offer.priceCurrency,
    availability: offer.availability,
    url: toAbsolute(offer.ctaPath),
    name: offer.schemaName,
    description: offer.description,
    category: "Software",
  };

  if (offer.sku) base.sku = offer.sku;
  if (typeof offer.price === "number") {
    base.price = offer.price;
  } else {
    base.priceType = "https://schema.org/CallForPrice";
  }

  return base;
});

const faqEntries = [
  {
    question:
      "Can I run Lightlane fully offline on a dedicated engraving machine?",
    answer:
      "Yes - Lightlane is engineered to operate entirely offline. You can activate and manage licenses locally and run full jobs without connectivity, ideal for shop floors, air-gapped or production-only machines.",
  },
  {
    question:
      "How fast is the workflow compared to other laser engraving software?",
    answer:
      "Lightlane trims the import→preview→engrave loop with smart defaults, instant visual feedback, and minimal dialog friction. Typical SVG or image jobs go from drop to ready in seconds with fewer context switches.",
  },
  {
    question:
      "Which laser cutter controllers does Lightlane currently support?",
    answer:
      "Lightlane ships with Ruida (native) and G-code/GRBL style output today. K40 / M2-Nano support is in prototyping and coming soon. The architecture is modular, so new controller targets can be added rapidly.",
  },
  {
    question:
      "What’s included at launch pricing for the laser engraving licenses?",
    answer:
      "Launch pricing is a limited-time lifetime license with no renewal. After purchase, we’ll email your downloads and assist with setup during early beta. Future pricing may increase after the founders window closes.",
  },
];

const howToSchema = {
  "@context": "https://schema.org",
  "@type": "HowTo",
  "@id": `${toAbsolute("/")}#laser-engraving-workflow`,
  name: "How to engrave with Lightlane laser engraving software",
  description:
    "Five-step workflow for preparing, previewing, and engraving jobs with Lightlane across Ruida, GRBL, and G-code laser cutters.",
  image: toAbsolute("/landing/basicscreen.png"),
  totalTime: "PT5M",
  tool: [
    {
      "@type": "HowToTool",
      name: "Lightlane laser engraving software",
    },
  ],
  supply: [
    {
      "@type": "HowToSupply",
      name: "Laser cutter with Ruida, GRBL, or G-code controller",
    },
    {
      "@type": "HowToSupply",
      name: "Material presets or saved Lightlane templates",
    },
  ],
  step: workflowSteps.map((step, index) => ({
    "@type": "HowToStep",
    position: index + 1,
    name: step.name,
    text: step.description,
    url: toAbsolute(step.anchor),
  })),
};

const videoStructuredData = workflowSteps.map((step) => ({
  "@context": "https://schema.org",
  "@type": "VideoObject",
  "@id": `${toAbsolute("/")}#${step.id}-video`,
  name: `${step.name} - Lightlane laser engraving software`,
  description: step.description,
  thumbnailUrl: [toAbsolute("/NotRoundedLogo.png")],
  uploadDate: new Date().toISOString().slice(0, 10),
  contentUrl: toAbsolute(step.video),
  inLanguage: "en-US",
  publisher: { "@id": `${toAbsolute("/")}#organization` },
}));

const structuredData = [
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "@id": `${toAbsolute("/")}#lightlane-software`,
    name: "Lightlane",
    description:
      "Lightlane laser engraving software: import → preview → engrave in fewer clicks. Modern, fast, device-ready.",
    applicationCategory: "DesignApplication",
    operatingSystem: ["Windows", "macOS"],
    softwareRequirements: "Ruida, GRBL/G-code compatible laser engravers",
    downloadUrl: toAbsolute("/pricing"),
    image: [
      toAbsolute("/NotRoundedLogo.png"),
      toAbsolute("/landing/basicscreen.png"),
    ],
    publisher: { "@id": `${toAbsolute("/")}#organization` },
    offers: offerSchemas,
    keywords: homepageKeywords.join(", "),
  },
  {
    "@context": "https://schema.org",
    "@type": "Product",
    "@id": `${toAbsolute("/")}#lightlane-product`,
    name: "Lightlane Laser Engraving Software",
    description:
      "Laser engraving workflow software that compresses import → preview → engrave into a single, reliable pipeline.",
    brand: {
      "@type": "Brand",
      name: "Lightlane",
      logo: toAbsolute("/LogoHorizontal.webp"),
    },
    category: "Software",
    image: [
      toAbsolute("/NotRoundedLogo.png"),
      toAbsolute("/landing/basicscreen.png"),
    ],
    audience: {
      "@type": "Audience",
      audienceType: [
        "Laser engraver operators",
        "Fabrication studios",
        "Product designers",
        "Makers",
      ],
    },
    offers: offerSchemas,
    keywords: homepageKeywords.join(", "),
  },
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "@id": `${toAbsolute("/")}#lightlane-faq`,
    mainEntity: faqEntries.map((faq) => ({
      "@type": "Question",
      name: faq.question,
      acceptedAnswer: {
        "@type": "Answer",
        text: faq.answer,
      },
    })),
  },
  howToSchema,
  ...videoStructuredData,
];
---

<Layout
  title="Lightlane - Faster Laser Engraving Workflow"
  description="Lightlane laser engraving software: import → preview → engrave in fewer clicks. Modern, fast, device-ready."
  keywords={homepageKeywords.join(", ")}
  structuredData={structuredData}
>
  <!-- Header rendered by Layout.astro -->

  <main>
    <section
      class="relative overflow-hidden flex items-center pt-20 md:pt-24 pb-12 md:pb-16"
    >
      <div
        class="absolute inset-0 bg-[radial-gradient(circle_at_20%_30%,rgba(42,158,219,0.2),transparent_60%)]"
        aria-hidden="true"
      >
      </div>

      <div class="container relative z-[2]">
        <div class="max-w-3xl mx-auto text-center space-y-6">
          <div class="flex justify-center">
            <div class="badge badge-success badge-soft badge-xl tracking-wide">
              {saleBadgeText}
            </div>
          </div>
          <h1 class="text-5xl md:text-6xl font-extrabold leading-tight">
            <span class="text-ll-gradient"
              >Lightning-fast laser engraving software</span
            >
          </h1>
          <p class="text-lg md:text-xl text-base-content/80">
            Lightlane is a laser cutter software built for makers and production
            shops - streamlining everything from SVG or image import to
            device-ready engraving on Ruida, GRBL, and G-code controllers. Fewer
            clicks, smarter defaults, rapid preview, offline activation, and
            seamless streaming to supported hardware. Download the desktop app
            and unlock the full-featured free trial instantly.
          </p>
          <p class="text-sm text-base-content/70">
            {heroPricingNote}
          </p>
          <div class="flex justify-center">
            <div
              class="alert alert-info shadow-sm text-sm max-w-xl mx-auto bg-base-100/80 text-base-content"
            >
              <span class="font-semibold">14-day free trial:</span>
              Download Lightlane on macOS or Windows and explore every pro feature
              before you buy.
            </div>
          </div>
          <div class="flex gap-4 justify-center">
            <a
              href="#download-app"
              class="btn btn-gradient"
              data-download-modal-trigger>Start Free Trial</a
            >
            <a href="/pricing" class="btn btn-outline">View Pricing</a>
          </div>

          <div id="download-app" class="space-y-3">
            <DownloadButtons align="center" />
            <p class="text-sm text-base-content/70">
              Pick your platform to install Lightlane. Every download on a new
              machine unlocks a 14-day pro trial automatically.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section class="section pt-0">
      <div class="container grid gap-12 lg:grid-cols-2 items-center">
        <div class="space-y-6 order-2 lg:order-1" data-animate>
          <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">
            The problem with current engraving tools
          </h2>
          <ul class="space-y-4 text-base-content/70 text-sm leading-relaxed">
            <li class="flex gap-3">
              <span class="text-accent">•</span><span
                >Bloated multi-step flows from import to preview waste precious
                iteration time.</span
              >
            </li>
            <li class="flex gap-3">
              <span class="text-accent">•</span><span
                >Inconsistent SVG handling introduces path errors and manual
                cleanup.</span
              >
            </li>
            <li class="flex gap-3">
              <span class="text-accent">•</span><span
                >Device streaming relies on clunky drivers and fragile
                connection states.</span
              >
            </li>
            <li class="flex gap-3">
              <span class="text-accent">•</span><span
                >License models ignore offline or workshop environments with
                limited connectivity.</span
              >
            </li>
          </ul>
          <p class="text-base-content/80 text-sm">
            Lightlane compresses these layers into a unified, resilient pipeline
            engineered for speed, clarity, and trust.
          </p>
          <div class="flex flex-wrap gap-4">
            <a
              href="#download-app"
              class="btn btn-gradient"
              data-download-modal-trigger>Start Free Trial</a
            >
            <a href="#workflow" class="btn btn-outline">See Workflow</a>
          </div>
        </div>
        <div class="order-1 lg:order-2 relative overflow-visible" data-animate>
          <div
            class="mockup-window border border-base-300 w-full bg-base-200/40 rounded-2xl overflow-hidden"
          >
            <div class="border-t border-base-300 bg-base-100 overflow-hidden">
              <img
                src="/landing/basicscreen.png"
                alt="Lightlane basic engraving workspace screen"
                loading="eager"
                width={1920}
                height={1027}
                class="w-full h-auto block"
              />
            </div>
          </div>
          <!-- Radial glow orb adjusted to sit fully inside container (avoids bottom being cut off) -->
          <div
            class="pointer-events-none absolute bottom-0 left-0 -translate-x-1/4 translate-y-1/4 w-40 h-40 rounded-full opacity-35 blur-2xl bg-[radial-gradient(circle_at_center,rgba(24,72,168,0.8)_0%,rgba(42,158,219,0.45)_55%,transparent_75%)]"
          >
          </div>
        </div>
      </div>
    </section>

    <section id="workflow" class="section bg-base-200/40">
      <div class="container">
        <div class="page-header" data-animate>
          <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">
            Streamlined 5-step workflow
          </h2>
          <p class="mt-4 text-base-content/70 max-w-2xl mx-auto">
            From raw asset to engraving in minutes, repeatably and safely.
          </p>
        </div>
        <div id="workflow-scrollytell" class="relative max-w-5xl mx-auto">
          <!-- Sticky stage -->
          <div class="sticky top-24 md:top-28">
            <ol id="workflow-steps" class="relative h-[70vh] md:h-[65vh]">
              <li
                id="workflow-step-1"
                data-step="0"
                class="workflow-step absolute inset-0 opacity-0 pointer-events-none transition duration-700 ease-out"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center h-full">
                  <div
                    class="aspect-video rounded-xl bg-base-300 overflow-hidden ring-1 ring-base-300/60 shadow-sm relative shadow-lg/30"
                  >
                    <video
                      data-autoplay
                      data-src="/landing/drag&drop.mp4"
                      class="w-full h-full object-cover"
                      muted
                      loop
                      playsinline
                      preload="metadata"
                      aria-hidden="true"
                      tabindex="-1"
                      role="presentation"
                    >
                      Your browser does not support the video tag.
                    </video>
                    <div
                      class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-base-300/20 to-transparent"
                    >
                    </div>
                  </div>
                  <div class="space-y-3">
                    <h3 class="text-xl font-semibold">1. Intelligent Import</h3>
                    <p class="text-sm text-base-content/70">
                      Drop SVGs or images. We normalize layers, fonts, and
                      vector paths instantly with conflict detection.
                    </p>
                  </div>
                </div>
              </li>
              <li
                id="workflow-step-2"
                data-step="1"
                class="workflow-step absolute inset-0 opacity-0 pointer-events-none transition duration-700 ease-out"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center h-full">
                  <div
                    class="order-2 md:order-1 aspect-video rounded-xl bg-base-300 overflow-hidden ring-1 ring-base-300/60 shadow-sm relative shadow-lg/30"
                  >
                    <video
                      data-autoplay
                      data-src="/landing/preview.mp4"
                      class="w-full h-full object-cover"
                      muted
                      loop
                      playsinline
                      preload="metadata"
                      aria-hidden="true"
                      tabindex="-1"
                      role="presentation"
                    >
                      Your browser does not support the video tag.
                    </video>
                    <div
                      class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-base-300/20 to-transparent"
                    >
                    </div>
                  </div>
                  <div class="space-y-3 order-1 md:order-2">
                    <h3 class="text-xl font-semibold">2. Real-time Preview</h3>
                    <p class="text-sm text-base-content/70">
                      GPU-accelerated preview with dynamic resolution scaling
                      and path integrity overlays.
                    </p>
                  </div>
                </div>
              </li>
              <li
                id="workflow-step-3"
                data-step="2"
                class="workflow-step absolute inset-0 opacity-0 pointer-events-none transition duration-700 ease-out"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center h-full">
                  <div
                    class="aspect-video rounded-xl bg-base-300 overflow-hidden ring-1 ring-base-300/60 shadow-sm relative shadow-lg/30"
                  >
                    <video
                      data-autoplay
                      data-src="/landing/materials.mp4"
                      class="w-full h-full object-cover"
                      muted
                      loop
                      playsinline
                      preload="metadata"
                      aria-hidden="true"
                      tabindex="-1"
                      role="presentation"
                    >
                      Your browser does not support the video tag.
                    </video>
                    <div
                      class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-base-300/20 to-transparent"
                    >
                    </div>
                  </div>
                  <div class="space-y-3">
                    <h3 class="text-xl font-semibold">3. Smart Parameters</h3>
                    <p class="text-sm text-base-content/70">
                      Material presets with adaptive power & speed matrices and
                      guardrails against unsafe values.
                    </p>
                  </div>
                </div>
              </li>
              <li
                id="workflow-step-4"
                data-step="3"
                class="workflow-step absolute inset-0 opacity-0 pointer-events-none transition duration-700 ease-out"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center h-full">
                  <div
                    class="order-2 md:order-1 aspect-video rounded-xl bg-base-300 overflow-hidden ring-1 ring-base-300/60 shadow-sm relative shadow-lg/30"
                  >
                    <video
                      data-autoplay
                      data-src="/landing/stream.mp4"
                      class="w-full h-full object-cover"
                      muted
                      loop
                      playsinline
                      preload="metadata"
                      aria-hidden="true"
                      tabindex="-1"
                      role="presentation"
                    >
                      Your browser does not support the video tag.
                    </video>
                    <div
                      class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-base-300/20 to-transparent"
                    >
                    </div>
                  </div>
                  <div class="space-y-3 order-1 md:order-2">
                    <h3 class="text-xl font-semibold">4. Device Streaming</h3>
                    <p class="text-sm text-base-content/70">
                      Driverless local streaming where supported or fall back to
                      packaged G-code style bundles.
                    </p>
                  </div>
                </div>
              </li>
              <li
                id="workflow-step-5"
                data-step="4"
                class="workflow-step absolute inset-0 opacity-0 pointer-events-none transition duration-700 ease-out"
              >
                <div class="grid md:grid-cols-2 gap-8 items-center h-full">
                  <div
                    class="aspect-video rounded-xl bg-base-300 overflow-hidden ring-1 ring-base-300/60 shadow-sm relative shadow-lg/30"
                  >
                    <video
                      data-autoplay
                      data-src="/landing/templates.mp4"
                      class="w-full h-full object-cover"
                      muted
                      loop
                      playsinline
                      preload="metadata"
                      aria-hidden="true"
                      tabindex="-1"
                      role="presentation"
                    >
                      Your browser does not support the video tag.
                    </video>
                    <div
                      class="pointer-events-none absolute inset-0 bg-gradient-to-tr from-base-300/20 to-transparent"
                    >
                    </div>
                  </div>
                  <div class="space-y-3">
                    <h3 class="text-xl font-semibold">5. Analyze & Reuse</h3>
                    <p class="text-sm text-base-content/70">
                      Auto-capture run metadata, generate optimizations, and
                      save as reusable template with one click.
                    </p>
                  </div>
                </div>
              </li>
            </ol>
          </div>
          <!-- Dynamic spacer height set via JS to drive scroll -->
          <div id="workflow-spacer" aria-hidden="true"></div>
        </div>
        <div class="mt-12 flex justify-center" data-animate>
          <div
            class="alert alert-info bg-base-100/80 border border-info/30 flex flex-col gap-3 sm:flex-row sm:items-center max-w-2xl"
          >
            <div>
              <span class="font-semibold">Workflow unlocked:</span>
              Test every step above with the 14-day pro trial - no credit card, no
              feature caps.
            </div>
            <a
              href="#download-app"
              class="btn btn-info btn-sm"
              data-download-modal-trigger>Start Free Trial</a
            >
          </div>
        </div>
      </div>
    </section>

    <section id="faq" class="section scroll-mt-28 md:scroll-mt-40">
      <div class="container grid gap-8 lg:grid-cols-3">
        <div class="lg:col-span-2 space-y-8" data-animate>
          <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">
            Laser engraving software highlights
          </h2>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- Path Optimiser -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-primary/30 to-primary/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-primary"
                >
                  <path d="M4 4h4v4H4zM16 16h4v4h-4z"></path>
                  <path d="M8 6c5.5 0 10 4.5 10 10"></path><path
                    d="M8 10c3.3 0 6 2.7 6 6"></path>
                </svg>
              </div>
              <h3 class="font-semibold">Path Optimiser</h3>
              <p class="text-sm text-base-content/70">
                Reorders & merges paths to cut travel, smooth motion & reduce
                job time without altering geometry.
              </p>
            </div>
            <!-- Preview before cutting -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-secondary/30 to-secondary/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-secondary"
                >
                  <circle cx="12" cy="12" r="3"></circle><path
                    d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12Z"></path>
                </svg>
              </div>
              <h3 class="font-semibold">Preview Before Cutting</h3>
              <p class="text-sm text-base-content/70">
                High-fidelity instant preview & dry-run overlays show order,
                passes & potential issues pre-engrave.
              </p>
            </div>
            <!-- Processing modes -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-accent/30 to-accent/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-accent"
                >
                  <path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4z"></path>
                  <path d="M14 17h6M14 21h6M14 13h6"></path>
                </svg>
              </div>
              <h3 class="font-semibold">Multi Processing Modes</h3>
              <p class="text-sm text-base-content/70">
                Outline, Shape & Raster modes auto-select optimal sequencing to
                preserve edge quality & detail.
              </p>
            </div>
            <!-- Templates / reuse -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-info/30 to-info/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-info"
                >
                  <path
                    d="M5 4h9l5 5v11a0 0 0 0 1 0 0H5a0 0 0 0 1 0 0V4a0 0 0 0 1 0 0Z"
                  ></path>
                  <path d="M9 12h6M9 16h6M9 8h2"></path>
                </svg>
              </div>
              <h3 class="font-semibold">Reusable Templates</h3>
              <p class="text-sm text-base-content/70">
                Save layouts; reopen & drop new images-auto re-positions, scales
                & restores material + power presets.
              </p>
            </div>
            <!-- Materials DB -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-success/30 to-success/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-success"
                >
                  <circle cx="8" cy="8" r="3"></circle><circle
                    cx="16"
                    cy="16"
                    r="3"></circle>
                  <path d="M6 21c0-2.8 2.2-5 5-5h2"></path><path d="M12 8h4l2 2"
                  ></path>
                </svg>
              </div>
              <h3 class="font-semibold">Materials Database</h3>
              <p class="text-sm text-base-content/70">
                Curated & editable presets per material: power, speed, passes,
                safety margins & engraving depth.
              </p>
            </div>
            <!-- Cross-platform -->
            <div
              class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
            >
              <div
                class="w-10 h-10 rounded-lg bg-gradient-to-br from-warning/30 to-warning/5 flex items-center justify-center"
              >
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="text-warning"
                >
                  <rect x="3" y="4" width="8" height="14" rx="2"></rect><rect
                    x="13"
                    y="6"
                    width="8"
                    height="12"
                    rx="2"></rect>
                  <path d="M7 18v2M17 18v2"></path>
                </svg>
              </div>
              <h3 class="font-semibold">Windows & Mac Native</h3>
              <p class="text-sm text-base-content/70">
                Optimized builds for both platforms with consistent rendering &
                driverless streaming where possible.
              </p>
            </div>
          </div>
          <div
            class="alert alert-success bg-base-100/80 border border-success/20 text-sm"
          >
            <span class="font-semibold">Free trial included:</span>
            Every download starts with the same pro build you’ll use in production,
            so you can validate workflows before committing.
          </div>
          <div class="flex gap-4">
            <a
              href="#download-app"
              class="btn btn-gradient"
              data-download-modal-trigger>Start Free Trial</a
            >
            <a href="/pricing" class="btn btn-outline">View Pricing</a>
          </div>
        </div>
        <div class="space-y-8" data-animate>
          <h2 class="text-xl font-semibold">Device compatibility</h2>
          <p class="text-sm text-base-content/70 max-w-sm">
            Optimized native builds with identical workflow engine. Hardware
            streaming layer adapts per platform while templates, materials and
            licensing stay portable.
          </p>
          <div class="grid grid-cols-2 gap-4 max-w-xs">
            <!-- macOS card -->
            <div
              class="p-4 rounded-xl bg-base-200 border border-base-300 flex flex-col items-center gap-3 text-center"
            >
              <div
                class="w-12 h-12 rounded-lg bg-gradient-to-br from-base-100/60 to-base-300/20 flex items-center justify-center"
              >
                <svg
                  viewBox="0 0 24 24"
                  width="30"
                  height="30"
                  fill="currentColor"
                  class="text-base-content/80"
                >
                  <path
                    d="M17.25 13.2c-.03-2.2 1.8-3.26 1.89-3.32-1.03-1.5-2.63-1.7-3.19-1.72-1.36-.14-2.65.8-3.34.8-.7 0-1.75-.78-2.88-.76-1.47.02-2.83.86-3.59 2.2-1.53 2.66-.39 6.58 1.09 8.73.72 1.04 1.58 2.2 2.71 2.16 1.09-.04 1.5-.7 2.82-.7 1.33 0 1.69.7 2.87.67 1.19-.02 1.94-1.06 2.66-2.11.84-1.22 1.19-2.4 1.21-2.46-.03-.01-2.31-.89-2.34-3.39Z"
                  ></path>
                  <path
                    d="M15.52 6.54c.59-.72.99-1.7.88-2.69-.85.03-1.88.56-2.49 1.28-.54.63-1.02 1.64-.9 2.6.95.07 1.92-.49 2.51-1.19Z"
                  ></path>
                </svg>
              </div>
              <div>
                <p class="text-sm font-medium">macOS</p>
                <p class="text-[11px] text-base-content/60">
                  Universal / Apple&nbsp;Silicon
                </p>
              </div>
            </div>
            <!-- Windows card -->
            <div
              class="p-4 rounded-xl bg-base-200 border border-base-300 flex flex-col items-center gap-3 text-center"
            >
              <div
                class="w-12 h-12 rounded-lg bg-gradient-to-br from-base-100/60 to-base-300/20 flex items-center justify-center"
              >
                <svg
                  viewBox="0 0 22 22"
                  width="30"
                  height="30"
                  fill="currentColor"
                  class="text-base-content/80"
                >
                  <path
                    d="M0 2.5v7.6h10.5V2.5H0zm11.5 0v7.6H22V2.5H11.5zM0 11.9v7.6h10.5v-7.6H0zm11.5 0v7.6H22v-7.6H11.5z"
                  ></path>
                </svg>
              </div>
              <div>
                <p class="text-sm font-medium">Windows</p>
                <p class="text-[11px] text-base-content/60">
                  x64 / ARM in testing
                </p>
              </div>
            </div>
          </div>
          <ul class="text-xs text-base-content/60 space-y-1 pt-2">
            <li class="flex gap-2">
              <span class="text-success">•</span>Shared project + template
              format
            </li>
            <li class="flex gap-2">
              <span class="text-success">•</span>Identical path engine &
              materials DB
            </li>
            <li class="flex gap-2">
              <span class="text-success">•</span>Driverless streaming where
              supported
            </li>
            <li class="flex gap-2">
              <span class="text-success">•</span>Offline activation parity
            </li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container max-w-4xl" data-animate>
        <div class="space-y-10">
          <div class="text-center space-y-4">
            <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">FAQ</h2>
            <p class="text-sm text-base-content/60 max-w-2xl mx-auto">
              What makers ask first about using Lightlane day-to-day.
            </p>
          </div>
          <div class="join join-vertical w-full">
            <!-- Q1 -->
            <div
              class="collapse collapse-arrow join-item border border-base-300 bg-base-200/40"
            >
              <input type="radio" name="faq-new" checked />
              <div class="collapse-title text-sm font-semibold">
                Can I run Lightlane fully offline on a dedicated engraving
                machine?
              </div>
              <div
                class="collapse-content text-sm text-base-content/70 leading-relaxed"
              >
                Yes - Lightlane is engineered to operate entirely offline. You
                can activate & manage licenses locally and run full jobs without
                connectivity, ideal for shop floors, air-gapped or
                production-only machines.
              </div>
            </div>
            <!-- Q: Free Trial -->
            <div
              class="collapse collapse-arrow join-item border border-base-300 bg-base-200/40"
            >
              <input type="radio" name="faq-new" />
              <div class="collapse-title text-sm font-semibold">
                Does Lightlane include a free trial when I download the app?
              </div>
              <div
                class="collapse-content text-sm text-base-content/70 leading-relaxed"
              >
                Yes. Every macOS and Windows download activates a 14-day
                full-featured trial automatically. No credit card or purchase is
                required-just sign in and start engraving.
              </div>
            </div>
            <!-- Q2 -->
            <div
              class="collapse collapse-arrow join-item border border-base-300 bg-base-200/40"
            >
              <input type="radio" name="faq-new" />
              <div class="collapse-title text-sm font-semibold">
                How fast is the workflow compared to other engraving software?
              </div>
              <div
                class="collapse-content text-sm text-base-content/70 leading-relaxed"
              >
                Lightlane trims the import→preview→engrave loop: smart defaults,
                instant visual feedback, and minimal dialog friction. Typical
                SVG/image jobs go from drop to ready in seconds with fewer
                context switches.
              </div>
            </div>
            <!-- Q3 -->
            <div
              class="collapse collapse-arrow join-item border border-base-300 bg-base-200/40"
            >
              <input type="radio" name="faq-new" />
              <div class="collapse-title text-sm font-semibold">
                Which controllers does Lightlane currently support?
              </div>
              <div
                class="collapse-content text-sm text-base-content/70 leading-relaxed"
              >
                Today: Ruida (native) and G-code/GRBL style output. K40 /
                M2-Nano support is in prototyping and coming soon. The
                architecture is modular-new controller targets can be added
                rapidly.
              </div>
            </div>
            <!-- Q4 -->
            <div
              class="collapse collapse-arrow join-item border border-base-300 bg-base-200/40"
            >
              <input type="radio" name="faq-new" />
              <div class="collapse-title text-sm font-semibold">
                What’s included at launch pricing?
              </div>
              <div
                class="collapse-content text-sm text-base-content/70 leading-relaxed"
              >
                Launch pricing is a limited-time lifetime license (no renewal).
                After purchase, we’ll email your downloads and assist with setup
                during early beta. Future pricing may increase.
              </div>
            </div>
          </div>
          <div class="pt-4 text-center">
            <a
              href="#download-app"
              class="btn btn-gradient btn-sm"
              data-download-modal-trigger>Start Free Trial</a
            >
          </div>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="page-header">
          <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">
            Why Lightlane laser engraving software
          </h2>
          <p class="mt-4 text-base-content/70 max-w-2xl mx-auto">
            Purpose-built to collapse setup time and shave seconds off every
            engraving run.
          </p>
        </div>
        <div class="grid gap-8 md:grid-cols-3">
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">Import → Preview → Engrave</h3>
              <p class="text-sm opacity-80">
                Optimized flow reduces clicks from file drop to device start.
                Smart layer parsing, instant sizing, live material presets.
              </p>
            </div>
          </div>
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">Device-Ready Streaming</h3>
              <p class="text-sm opacity-80">
                Low-latency, driverless local streaming where supported. Fall
                back gracefully with robust job packaging.
              </p>
            </div>
          </div>
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">SVG & Text Engine</h3>
              <p class="text-sm opacity-80">
                Fast, resilient parsing for complex paths, fonts, kerning,
                fills, stroke expansion, and node cleanup.
              </p>
            </div>
          </div>
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">Template Marketplace</h3>
              <p class="text-sm opacity-80">
                Reusable engrave templates, shared presets, and license-gated
                premium packs.
              </p>
            </div>
          </div>
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">Licenses & Offline Activation</h3>
              <p class="text-sm opacity-80">
                Secure key issuance, offline activation codes, device binding,
                and portal management.
              </p>
            </div>
          </div>
          <div class="card bg-base-200 border border-base-300">
            <div class="card-body">
              <h3 class="card-title">From Hobby to Pro</h3>
              <p class="text-sm opacity-80">
                Works great for creators scaling up: multi-license, affiliate
                referrals, analytics, and customer dashboard.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="section">
      <div class="container max-w-5xl" data-animate>
        <div class="page-header text-center">
          <h2 class="text-3xl md:text-4xl font-bold text-ll-gradient">
            Laser engraving workflow advantages
          </h2>
          <p class="mt-4 text-base-content/70 max-w-2xl mx-auto">
            A focused pipeline that turns “import → engrave” into a fast,
            predictable loop you can trust every time.
          </p>
        </div>
        <div class="grid gap-6 md:grid-cols-3">
          <!-- Benefit: Fewer Clicks -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-primary/30 to-primary/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-primary"
              >
                <path d="M4 4h6v6H4zM14 4h6v6h-6zM4 14h6v6H4z"></path>
                <path d="M14 14h6M14 18h6M14 22h6"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Fewer Clicks</h3>
            <p class="text-sm text-base-content/70">
              Single, linear flow from drop to start. No modal maze-defaults
              auto-populate safe, material-aware parameters.
            </p>
          </div>
          <!-- Benefit: Instant Confidence -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-secondary/30 to-secondary/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-secondary"
              >
                <circle cx="12" cy="12" r="3"></circle><path
                  d="M2 12s4-7 10-7 10 7 10 7-4 7-10 7S2 12 2 12Z"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Instant Confidence</h3>
            <p class="text-sm text-base-content/70">
              Live preview + ordering overlays expose path order, passes &
              potential waste before a single pulse fires.
            </p>
          </div>
          <!-- Benefit: Cleaner Motion -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-accent/30 to-accent/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-accent"
              >
                <path d="M4 12c4-8 12-8 16 0"></path><path
                  d="M6 14c3-5 9-5 12 0"></path><path d="M10 18h4"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Cleaner Motion</h3>
            <p class="text-sm text-base-content/70">
              Path optimiser reduces travel + sharp reversals-smoother edges,
              shorter runtimes, less mechanical wear.
            </p>
          </div>
          <!-- Benefit: Smart Parameters -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-info/30 to-info/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-info"
              >
                <path d="M5 4h9l5 5v11H5V4Z"></path><path
                  d="M9 12h6M9 16h6M9 8h2"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Smart Parameters</h3>
            <p class="text-sm text-base-content/70">
              Material presets + guardrails auto adjust power & speed
              matrices-protecting detail and surface quality.
            </p>
          </div>
          <!-- Benefit: Offline First -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-success/30 to-success/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-success"
              >
                <path d="M4 5h16v10H4z"></path><path d="M8 21h8"></path><path
                  d="M10 17h4"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Offline First</h3>
            <p class="text-sm text-base-content/70">
              Full functionality without the cloud: activation, templates,
              materials & streaming all work air-gapped.
            </p>
          </div>
          <!-- Benefit: Reuse & Scale -->
          <div
            class="p-6 rounded-xl bg-base-200 border border-base-300 space-y-3"
          >
            <div
              class="w-10 h-10 rounded-lg bg-gradient-to-br from-warning/30 to-warning/5 flex items-center justify-center"
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="text-warning"
              >
                <rect x="3" y="4" width="8" height="14" rx="2"></rect><rect
                  x="13"
                  y="6"
                  width="8"
                  height="12"
                  rx="2"></rect>
                <path d="M7 18v2M17 18v2"></path>
              </svg>
            </div>
            <h3 class="font-semibold">Reuse & Scale</h3>
            <p class="text-sm text-base-content/70">
              Templates, materials DB & consistent cross-platform builds let you
              duplicate winning setups instantly.
            </p>
          </div>
        </div>
        <div class="mt-10 flex flex-wrap gap-4 justify-center">
          <a
            href="#download-app"
            class="btn btn-gradient"
            data-download-modal-trigger>Start Free Trial</a
          >
          <a href="/pricing" class="btn btn-outline">View Tiers</a>
        </div>
      </div>
    </section>

    <section class="relative py-24">
      <div
        class="absolute inset-0 bg-gradient-to-r from-[#1848A8]/20 to-[#2A9EDB]/20 blur-3xl opacity-40"
      >
      </div>
      <div class="container relative text-center max-w-3xl">
        <h2 class="text-4xl md:text-5xl font-bold mb-6 text-ll-gradient pb-1">
          Engrave smarter. Ship faster.
        </h2>
        <p class="text-lg text-base-content/70 mb-8">
          We’ve launched - get yours now. Grandfathered price available for a
          limited time. After purchase, we’ll email your downloads and provide
          hands‑on setup support during early beta. Prefer to trial first?
          Download Lightlane today and explore every pro feature for 14 days,
          free.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="#download-app"
            class="btn btn-gradient btn-lg"
            data-download-modal-trigger>Start Free Trial</a
          >
          <a href="/pricing" class="btn btn-outline btn-lg"
            >Buy Lifetime License</a
          >
        </div>
        <div class="mt-4 flex justify-center">
          <div class="badge badge-outline badge-lg gap-2">
            <span class="text-success">Free trial</span>Included with every
            download
          </div>
        </div>
      </div>
    </section>
  </main>
  <script>
    (function () {
      const revealOpts = { threshold: 0.12 };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const el = entry.target as HTMLElement;
            el.style.opacity = "1";
            el.style.transform = "translateY(0)";
            el.style.willChange = "auto";
            observer.unobserve(el);
          }
        });
      }, revealOpts);
      document.querySelectorAll("[data-animate]").forEach((node) => {
        const el = node as HTMLElement;
        el.style.opacity = "0";
        el.style.transform = "translateY(18px)";
        el.style.transition = "opacity .7s ease, transform .7s ease";
        el.style.willChange = "opacity, transform";
        observer.observe(el);
      });
      function animateCount(el) {
        const target = Number(el.dataset.target || 0);
        let cur = 0;
        const dur = 1200;
        const start = performance.now();
        function step(ts) {
          const p = Math.min(1, (ts - start) / dur);
          cur = Math.floor(p * target);
          el.textContent = cur + (el.dataset.suffix || "");
          if (p < 1) requestAnimationFrame(step);
          else el.textContent = target + (el.dataset.suffix || "");
        }
        requestAnimationFrame(step);
      }
      document.querySelectorAll(".count-up").forEach(animateCount);

      // Autoplay workflow demo videos only when visible
      const vidObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            const v = entry.target as HTMLVideoElement;
            if (entry.isIntersecting) {
              // Lazy-assign src on first intersection
              const ds = v.getAttribute("data-src");
              if (ds && !v.getAttribute("src")) {
                v.setAttribute("src", ds);
              }
              // Attempt play; catch to avoid unhandled promise rejection on some browsers
              const p = v.play();
              if (p && typeof p.catch === "function") p.catch(() => {});
            } else {
              v.pause();
            }
          });
        },
        { threshold: 0.2 },
      );
      const autoVideos = Array.from(
        document.querySelectorAll("video[data-autoplay]"),
      ) as HTMLVideoElement[];
      autoVideos.forEach((el) => vidObserver.observe(el));

      // Scrollytelling workflow (one step visible at a time)
      const stepsContainer = document.getElementById("workflow-scrollytell");
      const steps = Array.from(
        document.querySelectorAll(".workflow-step"),
      ) as HTMLElement[];
      if (stepsContainer && steps.length) {
        // Provide scroll space: each step ~80vh extra to allow deliberate transition
        const spacer = document.getElementById("workflow-spacer");
        const perStep = 0.9 * window.innerHeight; // tune factor for feel
        if (spacer) {
          spacer.style.height = `${perStep * (steps.length - 1) + window.innerHeight * 0.2}px`;
        }
        // Prime first: explicitly activate to trigger video play
        setActive(0);

        function setActive(idx: number) {
          steps.forEach((s, i) => {
            if (i === idx) {
              if (!s.dataset.active) {
                s.dataset.active = "true";
                s.style.transition = "opacity .65s ease, transform .65s ease";
                s.style.opacity = "1";
                s.style.transform = "translateY(0)";
                s.style.pointerEvents = "auto";
                const vid = s.querySelector("video");
                if (vid) {
                  try {
                    (vid as HTMLVideoElement).play();
                  } catch (e) {}
                }
              }
            } else if (s.dataset.active) {
              delete s.dataset.active;
              s.style.opacity = "0";
              s.style.transform = "translateY(32px)";
              s.style.pointerEvents = "none";
              const vid = s.querySelector("video");
              if (vid) {
                (vid as HTMLVideoElement).pause();
              }
            }
          });
        }

        function onScroll() {
          if (!stepsContainer) return;
          const rect = stepsContainer.getBoundingClientRect();
          // progress across total scroll range (0 at top reach, 1 near end)
          const totalHeight = spacer?.offsetHeight || 0;
          const viewportH = window.innerHeight;
          const start = rect.top - viewportH * 0.15; // begin earlier for smoother entry
          const end = rect.bottom - viewportH * 0.85; // finish a bit earlier
          const rawP =
            (window.scrollY + viewportH * 0.5 - stepsContainer.offsetTop) /
            (totalHeight || 1);
          // Fallback simpler progress if calculations go weird
          const progress = Math.min(1, Math.max(0, rawP));
          const stepFloat = progress * (steps.length - 1);
          const idx = Math.round(stepFloat);
          setActive(idx);
        }
        window.addEventListener("scroll", onScroll, { passive: true });
        window.addEventListener("resize", () => {
          if (spacer) {
            spacer.style.height = `${perStep * (steps.length - 1) + window.innerHeight * 0.2}px`;
          }
        });
        // Initial call after layout
        setTimeout(onScroll, 50);
      }
    })();
  </script>

  <Footer />
  <EasterEgg />
</Layout>
